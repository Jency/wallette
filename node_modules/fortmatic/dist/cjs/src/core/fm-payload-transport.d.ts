import { FmIncomingWindowMessage, FmMessageEvent, FmOutgoingWindowMessage, JsonRpcBatchRequestPayload, JsonRpcRequestPayload, JsonRpcResponsePayload, OriginSignature } from '../types';
import { FmIframeController } from './fm-iframe-controller';
interface RemoveEventListenerFunction {
    /**
     * Stop listening on the event associated with this `FmFetchOffFunction`
     * object.
     */
    (): void;
}
/**
 * A class of utilities for communicating with Fortmatic iframes via JSON RPC
 * payloads.
 */
export declare class FmPayloadTransport {
    private readonly endpoint;
    constructor(endpoint: string, originSignature: OriginSignature);
    /**
     * Send a payload to the Fortmatic `<iframe>` for processing and automatically
     * handle the acknowledging follow-up event(s).
     */
    post(overlay: FmIframeController, msgType: FmOutgoingWindowMessage, payload: JsonRpcRequestPayload): Promise<JsonRpcResponsePayload>;
    post(overlay: FmIframeController, msgType: FmOutgoingWindowMessage, payload: JsonRpcBatchRequestPayload): Promise<JsonRpcResponsePayload[]>;
    /**
     * Listen for the event given by `msgType`.
     *
     * @return A `void` function to remove the attached event.
     */
    on(msgType: FmIncomingWindowMessage, handler: (this: Window, event: FmMessageEvent) => void): RemoveEventListenerFunction;
}
export {};
