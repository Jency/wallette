#!/usr/bin/env bash

export NODE_ENV=production
export WEBPACK_ENV=production
export BABEL_ENV=production

export X_URL=https://x2.fortmatic.com
export AUTH_URL=https://auth.fortmatic.com

# Increase memory limit for Node
export NODE_OPTIONS=--max_old_space_size=4096

echo
echo "Building Fortmatic SDK for production, pointing to:"
echo
echo "    x:     $X_URL"
echo "    auth:  $AUTH_URL"
echo

export TS_NODE_PROJECT="tsconfig.webpack.json"
webpack --config webpack/webpack.config.ts
